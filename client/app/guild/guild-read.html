<div ng-include="'app/guild/guild-read-header.html'"></div>
<div class="guild-read">
    <div class="container">
        <div ng-include="'app/guild/guild-read-intro.html'"></div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-3">
                                <span class="icon-large center-block faction-{{guild.bnet.side}}"></span>
                            </div>
                            <div class="col-md-5">
                                <div class="faction-{{guild.bnet.side}} f-20 overflow">{{ guild.name }}</div>
                                <div class="overflow">{{ guild.realm }} - {{ guild.region|uppercase}}</div>
                                <div class=" overflow">Members : {{ guild.bnet.members.length }}</div>
                            </div>
                            <div class="col-md-4 text-right">
                                <div class="">
                                    <span class="m-l-10" ng-if="guild.ad.language">
                                        {{"LANG_"+guild.ad.language|uppercase|translate}}&nbsp;
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="row" ng-if="guild.ad.website">
                            <div class="col-md-3"></div>
                            <div class="col-md-9">
                                <div ng-bind-html="guild.ad.website | linky:'_blank'" class="overflow"></div>
                            </div>
                        </div>
                        <div ng-if="guild.ad.description" class="row m-t-10">
                            <div class="col-md-12">
                                <div id="guild-description" perfect-scrollbar wheel-propagation="false" wheel-speed="2"
                                     min-scrollbar-length="20" suppress-scroll-x="true"
                                     class="guild-description scroller" marked="guild.ad.description">
                                    <div class="p-t-10"></div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div ng-if="guild.id" class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <!--<div class="col-md-6" ng-if="guild.ad.website">
                                {{"CONTACT"|translate}}:
                                <div ng-bind-html="guild.ad.website | linky:'_blank'" class="overflow"></div>
                            </div>-->
                            <div class="col-md-6 cursor-pointer" ng-if="guild.id" ng-click="openMessagePopup('sm');">
                                <span class="icon-small logo-warcraftlfg"></span>
                                <span class="m-l-5">WarcraftLFG</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel panel-default" ng-if="guild.ad && guild.ad.updated">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-12">
                                {{"AD_UPDATED"|translate}}: <span am-time-ago="guild.ad.updated"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <!--div class="panel panel-default" ng-if="guild.ad.tags.length">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-12">
                                Tags : <span class="label label-default" ng-repeat="tag in guild.ad.tags">{{ tag.text }}</span>
                            </div>
                        </div>
                    </div>
                </div-->
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-6">
                                {{"RAIDS_PER_WEEK"|translate}}: {{ guild.ad.raids_per_week.min }} - {{
                                guild.ad.raids_per_week.max }}
                            </div>
                            <div class="col-md-6" ng-if="guild.ad.timezone">
                                {{"TIMEZONE"|translate}}: {{"TIMEZONE_"+guild.ad.timezone|uppercase|translate}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" ng-if="guild.ad.play_time"
                     ng-show="guild.ad.play_time.monday.play || guild.ad.play_time.tuesday.play || guild.ad.play_time.wednesday.play || guild.ad.play_time.thursday.play || guild.ad.play_time.friday.play || guild.ad.play_time.saturday.play || guild.ad.play_time.sunday.play">
                    <div class="col-md-12">
                        <table class="table table-condensed">
                            <tr ng-repeat="(key, day) in guild.ad.play_time" ng-if="day.play == true">
                                <td>
                                    {{ key|uppercase|translate }}
                                </td>
                                <td>
                                    {{ ("0"+day.start.hour).slice(-2) }}h{{ ("0"+day.start.min).slice(-2) }}
                                </td>
                                <td>
                                    {{ ("0"+day.end.hour).slice(-2) }}h{{ ("0"+day.end.min).slice(-2) }}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="row"
             ng-if="guild.ad.lfg && (recruit.tank > 0 || recruit.heal > 0 || recruit.melee_dps > 0 || recruit.ranged_dps > 0)">
            <div class="col-md-3">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <span class="icon-small tank"></span><strong> &nbsp;{{"TANKS"|translate}}</strong>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-condensed">
                            <tr ng-if="value == true" ng-repeat="(class,value) in guild.ad.recruitment.tank">
                                <td class="class-{{ class|lowercase }}">
                                    {{class|uppercase|translate}}
                                </td>
                            </tr>
                            <tr ng-if="recruit.tank === 0">
                                <td class="common">
                                    {{"NONE"|translate}}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <span class="icon-small heal"></span><strong> &nbsp;{{"HEALS"|translate}}</strong>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-condensed">
                            <tr ng-if="value == true" ng-repeat="(class,value) in guild.ad.recruitment.heal">
                                <td class="class-{{ class|lowercase }}">
                                    {{class|uppercase|translate}}
                                </td>
                            </tr>
                            <tr ng-if="recruit.heal === 0">
                                <td class="common">
                                    {{"NONE"|translate}}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <span class="icon-small melee_dps"></span><strong> &nbsp;{{"MELEE_DPS"|translate}}</strong>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-condensed">
                            <tr ng-if="value == true" ng-repeat="(class,value) in guild.ad.recruitment.melee_dps">
                                <td class="class-{{ class|lowercase }}">
                                    {{class|uppercase|translate}}
                                </td>
                            </tr>
                            <tr ng-if="recruit.melee_dps === 0">
                                <td class="common">
                                    {{"NONE"|translate}}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <span class="icon-small ranged_dps"></span><strong> &nbsp;{{"RANGED_DPS"|translate}}</strong>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <table class="table table-condensed">
                            <tr ng-if="value == true" ng-repeat="(class,value) in guild.ad.recruitment.ranged_dps">
                                <td class="class-{{ class|lowercase }}">
                                    {{class|uppercase|translate}}
                                </td>
                            </tr>
                            <tr ng-if="recruit.ranged_dps === 0">
                                <td class="common">
                                    {{"NONE"|translate}}
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- Duplicate Entry -->
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-3">
                                {{ raids[1].name |translate}} :
                                <span wlfg-progress-guild="raidProgress" data-key="1"></span>
                            </div>
                            <div class="col-md-2" ng-if="ranks[1].world">
                                {{"WORLD"|translate}} : <span class="bold"
                                                              ng-class="{legendary:ranks[1].world<=10,epic:ranks[1].world<=100&&ranks[1].world>10,rare:ranks[1].world<=2500&&ranks[1].world>100,uncommon:ranks[1].world>2500}">
                                    {{ranks[1].world}}
                                </span>
                            </div>
                            <div class="col-md-2" ng-if="ranks[1].region">
                                {{guild.region|uppercase}} : <span class="bold"
                                                                   ng-class="{legendary:ranks[1].region<=10,epic:ranks[1].region<=100&&ranks[1].region>10,rare:ranks[1].region<=2500&&ranks[1].region>100,uncommon:ranks[1].region>2500}">
                                    {{ranks[1].region}}
                                </span>
                            </div>
                            <div class="col-md-2" ng-if="ranks[1].locale">
                                {{'REGION_'+ranks[1].locale.type+'_SHORT'|uppercase|translate}} : <span class="bold"
                                                                                                    ng-class="{legendary:ranks[1].locale.rank<=10,epic:ranks[1].locale.rank<=100&&ranks[1].locale.rank>10,rare:ranks[1].locale.rank<=2500&&ranks[1].locale.rank>100,uncommon:ranks[1].locale.rank>2500}">
                                    {{ranks[1].locale.rank}}
                                </span>
                            </div>
                            <div class="col-md-2" ng-if="ranks[1].realm">
                                {{'REALM'|translate}} : <span class="bold"
                                                              ng-class="{legendary:ranks[1].realm<=10,epic:ranks[1].realm<=100&&ranks[1].realm>10,rare:ranks[1].realm<=2500&&ranks[1].realm>100,uncommon:ranks[1].realm>2500}">
                                    {{ranks[1].realm}}
                                </span>
                            </div>
                            <div class="col-md-2 col-md-offset-6" class="common" ng-if="!ranks[1].world">
                                {{"NO RANK FOUND"|translate}}
                            </div>
                            <div class="col-md-1 text-right icon-tabs">
                                <table class="f-right">
                                    <tr>
                                        <td class="p-r-10 v-bottom">
                                            <i ng-class="{'active':!progressAdvanced}"
                                               ng-click="progressAdvanced = false"
                                               class="fa fa-list cursor-pointer opacity-50" tooltip-placement="top"
                                               uib-tooltip="{{'SIMPLE_VIEW'|translate}}"
                                               tooltip-append-to-body="true"></i>
                                        </td>
                                        <td class="h-separator">&nbsp;</td>
                                        <td class="p-l-10 v-bottom">
                                            <i ng-class="{'active':progressAdvanced}" ng-click="progressAdvanced = true"
                                               class="fa fa-list-alt cursor-pointer opacity-50" tooltip-placement="top"
                                               uib-tooltip="{{'ADVANCED_VIEW'|translate}}"
                                               tooltip-append-to-body="true"></i>
                                        </td>
                                    </tr>
                                </table>
                                <!--<div class="dis-inline-b p-r-10">
                                    <i ng-class="{'active':!progressAdvanced}" ng-click="progressAdvanced = false" class="fa fa-list cursor-pointer opacity-50" tooltip-placement="top" uib-tooltip="{{'SIMPLE_VIEW'|translate}}"></i>
                                </div>
                                <div class="h-separator">&nbsp;</div>
                                <div class="dis-inline-b p-l-10">
                                    <i ng-class="{'active':progressAdvanced}" ng-click="progressAdvanced = true" class="fa fa-list-alt cursor-pointer opacity-50"  tooltip-placement="top" uib-tooltip="{{'ADVANCED_VIEW'|translate}}"></i>
                                </div>-->

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" ng-if="!progressAdvanced">
                    <div class="col-md-6">
                        <table class="table table-condensed table-striped">
                            <tr ng-repeat="(key, boss) in raids[1].bosses | limitTo:2">
                                <td class="bold">{{ boss|uppercase|translate}}</td>
                                <td ng-class="{
                                'legendary':raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0,
                                'epic':raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0 && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0),
                                'rare':raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0 && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0),
                                'common':!(raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0) && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)
                                }">
                                    <span ng-if="raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0">{{"MYTHIC"|translate}}</span>
                                    <span ng-if="raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0 && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">{{"HEROIC"|translate}}</span>
                                    <span ng-if="raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0 && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">{{"NORMAL"|translate}}</span>
                                    <span ng-if="!(raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0) && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">{{"NO_KILL"|translate}}</span>
                                </td>
                                <td>
                                    <span ng-if="raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0"
                                          ng-init="diffDay = (raidProgress[1].mythic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[1].mythic[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[1].mythic[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0 && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)"
                                          ng-init="diffDay = (raidProgress[1].heroic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[1].heroic[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[1].heroic[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0 && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)"
                                          ng-init="diffDay = (raidProgress[1].mythic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[1].normal[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[1].normal[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="!(raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0) && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">&nbsp;</span>
                                </td>
                                <td>
                                    <span ng-if="raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0">
                                         {{raidProgress[1].mythic[boss].timestamps.length}} kill<span ng-if="raidProgress[1].mythic[boss].timestamps.length>1">s</span>
                                    </span>
                                    <span ng-if="raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0 && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">
                                         {{raidProgress[1].heroic[boss].timestamps.length}} kill<span ng-if="raidProgress[1].heroic[boss].timestamps.length>1">s</span>
                                    </span>
                                    <span ng-if="raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0 && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">
                                        {{raidProgress[1].normal[boss].timestamps.length}} kill<span ng-if="raidProgress[1].normal[boss].timestamps.length>1">s</span>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <table class="table table-condensed table-striped">
                            <tr ng-repeat="(key, boss) in raids[1].bosses | limitTo:-1">
                                <td class="bold">{{ boss|uppercase|translate }}</td>
                                <td ng-class="{
                                'legendary':raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0,
                                'epic':raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0 && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0),
                                'rare':raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0 && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0),
                                'common':!(raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0) && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)
                                }">
                                    <span ng-if="raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0">{{"MYTHIC"|translate}}</span>
                                    <span ng-if="raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0 && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">{{"HEROIC"|translate}}</span>
                                    <span ng-if="raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0 && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">{{"NORMAL"|translate}}</span>
                                    <span ng-if="!(raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0) && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">{{"NO_KILL"|translate}}</span>
                                </td>
                                <td>
                                    <span ng-if="raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0"
                                          ng-init="diffDay = (raidProgress[1].mythic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[1].mythic[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[1].mythic[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0 && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)"
                                          ng-init="diffDay = (raidProgress[1].heroic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[1].heroic[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[1].heroic[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0 && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)"
                                          ng-init="diffDay = (raidProgress[1].mythic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[1].normal[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[1].normal[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="!(raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0) && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">&nbsp;</span>
                                </td>
                                <td>
                                    <span ng-if="raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0">
                                         {{raidProgress[1].mythic[boss].timestamps.length}} kill<span ng-if="raidProgress[1].mythic[boss].timestamps.length>1">s</span>
                                    </span>
                                    <span ng-if="raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0 && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">
                                         {{raidProgress[1].heroic[boss].timestamps.length}} kill<span ng-if="raidProgress[1].heroic[boss].timestamps.length>1">s</span>
                                    </span>
                                    <span ng-if="raidProgress[1].normal[boss] && raidProgress[1].normal[boss].timestamps.length > 0 && !(raidProgress[1].heroic[boss] && raidProgress[1].heroic[boss].timestamps.length > 0) && !(raidProgress[1].mythic[boss] && raidProgress[1].mythic[boss].timestamps.length > 0)">
                                        {{raidProgress[1].normal[boss].timestamps.length}} kill<span ng-if="raidProgress[1].normal[boss].timestamps.length>1">s</span>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row" ng-if="progressAdvanced">
                    <div wlfg-progress-advanced-guild="raidProgress" data-key="1">
                    </div>
                </div>
            </div>
        </div>
        <div ng-include="'app/guild/guild-progress2.html'"></div>
        <!-- End -->
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-3">
                                {{ raids[0].name |translate}} :
                                <span wlfg-progress-guild="raidProgress" data-key="0"></span>
                            </div>
                            <div class="col-md-2" ng-if="ranks[0].world">
                                {{"WORLD"|translate}} : <span class="bold"
                                                              ng-class="{legendary:ranks[0].world<=10,epic:ranks[0].world<=100&&ranks[0].world>10,rare:ranks[0].world<=2500&&ranks[0].world>100,uncommon:ranks[0].world>2500}">
                                    {{ranks[0].world}}
                                </span>
                            </div>
                            <div class="col-md-2" ng-if="ranks[0].region">
                                {{guild.region|uppercase}} : <span class="bold"
                                                                   ng-class="{legendary:ranks[0].region<=10,epic:ranks[0].region<=100&&ranks[0].region>10,rare:ranks[0].region<=2500&&ranks[0].region>100,uncommon:ranks[0].region>2500}">
                                    {{ranks[0].region}}
                                </span>
                            </div>
                            <div class="col-md-2" ng-if="ranks[0].locale">
                                {{'REGION_'+ranks[0].locale.type+'_SHORT'|uppercase|translate}} : <span class="bold"
                                                                                                    ng-class="{legendary:ranks[0].locale.rank<=10,epic:ranks[0].locale.rank<=100&&ranks[0].locale.rank>10,rare:ranks[0].locale.rank<=2500&&ranks[0].locale.rank>100,uncommon:ranks[0].locale.rank>2500}">
                                    {{ranks[0].locale.rank}}
                                </span>
                            </div>
                            <div class="col-md-2" ng-if="ranks[0].realm">
                                {{'REALM'|translate}} : <span class="bold"
                                                              ng-class="{legendary:ranks[0].realm<=10,epic:ranks[0].realm<=100&&ranks[0].realm>10,rare:ranks[0].realm<=2500&&ranks[0].realm>100,uncommon:ranks[0].realm>2500}">
                                    {{ranks[0].realm}}
                                </span>
                            </div>
                            <div class="col-md-2 col-md-offset-6" class="common" ng-if="!ranks[0].world">
                                {{"NO RANK FOUND"|translate}}
                            </div>
                            <div class="col-md-1 text-right icon-tabs">
                                <table class="f-right">
                                    <tr>
                                        <td class="p-r-10 v-bottom">
                                            <i ng-class="{'active':!progressAdvanced}"
                                               ng-click="progressAdvanced = false"
                                               class="fa fa-list cursor-pointer opacity-50" tooltip-placement="top"
                                               uib-tooltip="{{'SIMPLE_VIEW'|translate}}"
                                               tooltip-append-to-body="true"></i>
                                        </td>
                                        <td class="h-separator">&nbsp;</td>
                                        <td class="p-l-10 v-bottom">
                                            <i ng-class="{'active':progressAdvanced}" ng-click="progressAdvanced = true"
                                               class="fa fa-list-alt cursor-pointer opacity-50" tooltip-placement="top"
                                               uib-tooltip="{{'ADVANCED_VIEW'|translate}}"
                                               tooltip-append-to-body="true"></i>
                                        </td>
                                    </tr>
                                </table>
                                <!--<div class="dis-inline-b p-r-10">
                                    <i ng-class="{'active':!progressAdvanced}" ng-click="progressAdvanced = false" class="fa fa-list cursor-pointer opacity-50" tooltip-placement="top" uib-tooltip="{{'SIMPLE_VIEW'|translate}}"></i>
                                </div>
                                <div class="h-separator">&nbsp;</div>
                                <div class="dis-inline-b p-l-10">
                                    <i ng-class="{'active':progressAdvanced}" ng-click="progressAdvanced = true" class="fa fa-list-alt cursor-pointer opacity-50"  tooltip-placement="top" uib-tooltip="{{'ADVANCED_VIEW'|translate}}"></i>
                                </div>-->

                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" ng-if="!progressAdvanced">
                    <div class="col-md-6">
                        <table class="table table-condensed table-striped">
                            <tr ng-repeat="(key, boss) in raids[0].bosses | limitTo:4">
                                <td class="bold">{{ boss|uppercase|translate}}</td>
                                <td ng-class="{
                                'legendary':raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0,
                                'epic':raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0 && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0),
                                'rare':raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0 && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0),
                                'common':!(raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0) && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)
                                }">
                                    <span ng-if="raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0">{{"MYTHIC"|translate}}</span>
                                    <span ng-if="raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0 && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">{{"HEROIC"|translate}}</span>
                                    <span ng-if="raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0 && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">{{"NORMAL"|translate}}</span>
                                    <span ng-if="!(raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0) && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">{{"NO_KILL"|translate}}</span>
                                </td>
                                <td>
                                    <span ng-if="raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0"
                                          ng-init="diffDay = (raidProgress[0].mythic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[0].mythic[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[0].mythic[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0 && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)"
                                          ng-init="diffDay = (raidProgress[0].heroic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[0].heroic[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[0].heroic[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0 && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)"
                                          ng-init="diffDay = (raidProgress[0].mythic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[0].normal[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[0].normal[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="!(raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0) && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">&nbsp;</span>
                                </td>
                                <td>
                                    <span ng-if="raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0">
                                         {{raidProgress[0].mythic[boss].timestamps.length}} kill<span ng-if="raidProgress[0].mythic[boss].timestamps.length>1">s</span>
                                    </span>
                                    <span ng-if="raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0 && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">
                                         {{raidProgress[0].heroic[boss].timestamps.length}} kill<span ng-if="raidProgress[0].heroic[boss].timestamps.length>1">s</span>
                                    </span>
                                    <span ng-if="raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0 && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">
                                        {{raidProgress[0].normal[boss].timestamps.length}} kill<span ng-if="raidProgress[0].normal[boss].timestamps.length>1">s</span>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <table class="table table-condensed table-striped">
                            <tr ng-repeat="(key, boss) in raids[0].bosses | limitTo:-3">
                                <td class="bold">{{ boss|uppercase|translate }}</td>
                                <td ng-class="{
                                'legendary':raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0,
                                'epic':raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0 && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0),
                                'rare':raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0 && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0),
                                'common':!(raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0) && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)
                                }">
                                    <span ng-if="raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0">{{"MYTHIC"|translate}}</span>
                                    <span ng-if="raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0 && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">{{"HEROIC"|translate}}</span>
                                    <span ng-if="raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0 && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">{{"NORMAL"|translate}}</span>
                                    <span ng-if="!(raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0) && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">{{"NO_KILL"|translate}}</span>
                                </td>
                                <td>
                                    <span ng-if="raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0"
                                          ng-init="diffDay = (raidProgress[0].mythic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[0].mythic[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[0].mythic[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0 && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)"
                                          ng-init="diffDay = (raidProgress[0].heroic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[0].heroic[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[0].heroic[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>
                                    </span>
                                    <span ng-if="raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0 && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)"
                                          ng-init="diffDay = (raidProgress[0].mythic[boss].timestamps[0] | amDifference:null:'days')">
                                        <span ng-if="diffDay<=0&&diffDay>-7"
                                              am-time-ago="raidProgress[0].normal[boss].timestamps[0][0]"></span>
                                        <span ng-if="diffDay>0||diffDay<=-7">{{ raidProgress[0].normal[boss].timestamps[0][0] | amDateFormat:'MMM D, YYYY, HH:mm:ss' }}</span>             
                                    </span>
                                    <span ng-if="!(raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0) && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">&nbsp;</span>
                                </td>
                                <td>
                                    <span ng-if="raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0">
                                         {{raidProgress[0].mythic[boss].timestamps.length}} kill<span ng-if="raidProgress[0].mythic[boss].timestamps.length>1">s</span>
                                    </span>
                                    <span ng-if="raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0 && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">
                                         {{raidProgress[0].heroic[boss].timestamps.length}} kill<span ng-if="raidProgress[0].heroic[boss].timestamps.length>1">s</span>
                                    </span>
                                    <span ng-if="raidProgress[0].normal[boss] && raidProgress[0].normal[boss].timestamps.length > 0 && !(raidProgress[0].heroic[boss] && raidProgress[0].heroic[boss].timestamps.length > 0) && !(raidProgress[0].mythic[boss] && raidProgress[0].mythic[boss].timestamps.length > 0)">
                                        {{raidProgress[0].normal[boss].timestamps.length}} kill<span ng-if="raidProgress[0].normal[boss].timestamps.length>1">s</span>
                                    </span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="row" ng-if="progressAdvanced">
                    <div wlfg-progress-advanced-guild="raidProgress" data-key="0">
                    </div>
                </div>
            </div>
        </div>
        <div ng-include="'app/guild/guild-progress.html'"></div>
    </div>
</div>